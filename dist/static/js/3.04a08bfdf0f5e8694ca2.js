webpackJsonp([3],{uqyF:function(t,a){},"zln+":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("Xxa5"),r=e.n(s),n=e("exGp"),i=e.n(n),c=e("Dd8w"),l=e.n(c),o=e("NYxO"),u=e("P9l9"),p={name:"List",data:function(){return{articles:[],total:0,pageSize:20}},beforeRouteEnter:function(t,a,e){e(function(a){a.setDataListByParams(t.params.user)})},watch:{$route:function(t){this.setDataListByParams(t.params.user)}},computed:l()({},Object(o.b)(["auth","user"]),{currentPage:function(){return parseInt(this.$route.query.page)||1}}),methods:{setDataListByParams:function(t){var a=this;return i()(r.a.mark(function e(){var s,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.currentPage),e.next=3,Object(u.g)(t);case 3:return s=e.sent,console.log(s),e.next=7,Object(u.c)({uid:s.data.id,page:a.currentPage,page_size:a.pageSize});case 7:n=e.sent,a.articles=n.data.list,a.total=n.data.total;case 10:case"end":return e.stop()}},e,a)}))()},changePage:function(t){this.$router.push({query:l()({},this.$route.query,{page:t})})}}},g={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-9 left-col pull-right"},[e("div",{staticClass:"panel article-body article-index"},[e("div",{staticClass:"panel-body"},[e("h1",{staticClass:"all-articles"},[t._v("\n        专栏文章\n        "),t.auth?e("router-link",{staticClass:"btn btn-primary pull-right",attrs:{to:"/articles/create"}},[e("i",{staticClass:"fa fa-paint-brush"}),t._v("\n          创作文章\n        ")]):t._e()],1),t._v(" "),e("ul",{staticClass:"list-group"},t._l(t.articles,function(a){return e("li",{staticClass:"list-group-item"},[e("img",{staticClass:"avatar avatar-small",attrs:{src:a.avatar}}),t._v(" "),e("router-link",{staticClass:"title",attrs:{to:"/articles/"+a.id+"/content"}},[t._v("\n            "+t._s(a.title)+"\n          ")]),t._v(" "),e("span",{staticClass:"meta pull-right"},[e("span",{staticClass:"timeago"},[t._v(t._s(t._f("moment")(a.date,"from")))])])],1)}),0),t._v(" "),e("div",{staticClass:"panel-footer text-right remove-padding-horizontal pager-footer"},[e("Pagination",{attrs:{currentPage:t.currentPage,total:t.total,pageSize:t.pageSize,onPageChange:t.changePage}})],1)])])])},staticRenderFns:[]};var d=e("VU/8")(p,g,!1,function(t){e("uqyF")},"data-v-d4c26560",null);a.default=d.exports}});
//# sourceMappingURL=3.04a08bfdf0f5e8694ca2.js.map